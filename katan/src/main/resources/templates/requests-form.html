<div th:fragment="content">
    <h4>Φόρμα Δημιουργίας Αιτήματος</h4>

    <form id="requestForm" method="post" enctype="multipart/form-data" action="/requests">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <div class="mb-3">
            <label>Τίτλος</label>
            <input class="form-control" name="title" required>
        </div>

        <div class="mb-3">
            <label>Περιγραφή</label>
            <textarea class="form-control" name="description" required></textarea>
        </div>

        <div class="mb-3">
            <label>Συνημμένα αρχεία (προαιρετικά)</label>
            <input class="form-control" type="file" name="attachments" multiple>
        </div>

        <div id="uploadProgressContainer" class="mb-3" style="display: none;">
            <label class="form-label">Πρόοδος αποστολής αρχείων</label>
            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div id="uploadProgressBar" class="progress-bar" style="width: 0%">0%</div>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Τύπος Αιτήματος</label>
            <select class="form-select" name="requestTypeId" required>
                <option value="" selected>άλλο</option>
                <option th:each="t : ${requestTypes}"
                        th:value="${t.id}"
                        th:text="${t.name}">
                </option>
            </select>

        </div>

        <button class="btn btn-success" type="submit">Αποθήκευση</button>
        <button type="button" class="btn btn-secondary ms-2" onclick="loadContent('/my/requests','requests')">
            Επιστροφή
        </button>
    </form>
</div>
